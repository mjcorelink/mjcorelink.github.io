<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mark John Gonzalvo | Portfolio</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <header>
        <!-- Space overlay for thematic background -->
        <div class="space-overlay">
            <div class="stars-twinkle"></div>
            <div class="glow-stars"></div>
            <div class="meteor-1"></div>
            <div class="meteor-2"></div>
        </div>
    </header>

    <main>
        <div class="container" id="home-section">
            <section class="profile-side">
                <div id="welcome-bubble" class="speech-bubble">
                    Hi, MJ here! Welcome to my space site. Feel free to check out my AI assistant in the bottom corner if you have any questions!
                </div>

                <div class="pfp-container">
                    <img src="assets/pfp.jpg" alt="Profile picture of Mark John Gonzalvo">
                </div>
                <h1>Mark John Gonzalvo</h1>
                <p class="titles">Customer Service<br>Content Moderator<br>Administrative Support<br>Freelancer</p>

                <a href="mailto:markjohngonzalvo@example.com?subject=Inquiry from Portfolio" class="email-btn">Email me</a>

                <div class="social-icons">
                    <a href="https://www.facebook.com/mjcore" aria-label="Visit my Facebook profile"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://ph.linkedin.com/in/mark-john-gonzalvo-6384b4149" aria-label="Visit my LinkedIn profile"><i class="fab fa-linkedin-in"></i></a>
                    <!-- Removed Twitter link as it was a placeholder; add a real URL if available -->
                </div>
            </section>

            <section class="about-side">
                <div class="about-card">
                    <h2>PROFILE SUMMARY</h2>
                    <p>
                        I’ve spent years in customer service and tech support, helping
                        people through chat, calls, and emails. I also do content moderation,
                        data tasks, and AI projects. I’m adaptable, efficient, and keep everything
                        organized, even when things get busy.
                    </p>
                    <div class="button-group">
                        <a href="assets/MJ_Gonzalvo_Resume.pdf" target="_blank" class="card-btn">Resume</a>
                        <a href="#gallery-section" class="card-btn">Portfolio</a>
                    </div>
                </div>
            </section>
        </div>

        <!-- Added gallery section to match the portfolio button link -->
        <section id="gallery-section" class="gallery">
            <h2>My Portfolio</h2>
            <p>Here are some examples of my work. (Add images or descriptions as needed.)</p>
            <!-- Placeholder for portfolio items; customize with your content -->
            <div class="gallery-item">
                <img src="assets/sample1.jpg" alt="Sample project 1">
                <p>Description of project 1.</p>
            </div>
            <div class="gallery-item">
                <img src="assets/sample2.jpg" alt="Sample project 2">
                <p>Description of project 2.</p>
            </div>
        </section>
    </main>

    <!-- Modal for expanded profile picture -->
    <div id="pfp-modal" class="modal" role="dialog" aria-labelledby="modal-title" aria-hidden="true">
        <button class="close-modal" aria-label="Close modal">&times;</button>
        <img class="modal-content" id="img-expanded" alt="Expanded profile picture of Mark John Gonzalvo">
    </div>

    <!-- Chatbot script -->
    <script>
        window.chatbaseConfig = {
            chatbotId: "aWn99QuaimyS0A8WuIJVn",
            showFloatingInitialMessages: true,
            floatingInitialMessagesDelay: 3,
        };
    </script>
    <script src="https://www.chatbase.co/embed.min.js" id="aWn99QuaimyS0A8WuIJVn" defer></script>

    <script>
        // Welcome Bubble Logic: Fade out after 15 seconds or on click
        window.addEventListener('load', function() {
            const bubble = document.getElementById('welcome-bubble');
            if (bubble) {
                // Make dismissible on click
                bubble.addEventListener('click', function() {
                    bubble.style.opacity = '0';
                    setTimeout(() => { bubble.style.display = 'none'; }, 1000);
                });
                // Auto-fade after 15 seconds
                setTimeout(() => {
                    if (bubble.style.display !== 'none') {
                        bubble.style.opacity = '0';
                        setTimeout(() => { bubble.style.display = 'none'; }, 1000);
                    }
                }, 15000);
            }
        });

        // PFP Modal Logic with accessibility and keyboard support
        document.addEventListener("DOMContentLoaded", function() {
            const modal = document.getElementById("pfp-modal");
            const pfpImg = document.querySelector(".pfp-container img");
            const modalImg = document.getElementById("img-expanded");
            const closeBtn = document.querySelector(".close-modal");

            function openModal() {
                modal.style.display = "flex";
                modal.setAttribute('aria-hidden', 'false');
                modalImg.src = pfpImg.src;
                // Focus trap (basic): Focus on close button
                closeBtn.focus();
            }

            function closeModal() {
                modal.style.display = "none";
                modal.setAttribute('aria-hidden', 'true');
            }

            if (pfpImg) {
                pfpImg.addEventListener('click', openModal);
            }
            if (closeBtn) {
                closeBtn.addEventListener('click', closeModal);
            }
            // Close on outside click
            window.addEventListener('click', function(event) {
                if (event.target === modal) {
                    closeModal();
                }
            });
            // Close on Escape key
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape' && modal.style.display === 'flex') {
                    closeModal();
                }
            });
        });
    </script>
</body>
</html>
